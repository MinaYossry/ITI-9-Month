<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="bootstrap.min.css">
    <title>Document</title>
</head>

<body>
    <div class="container mt-3 d-flex justify-content-center">

        <div class="card" style="width:18rem;">
            <img src="https://images.unsplash.com/photo-1561154464-82e9adf32764?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60"
                class="card-img-top" alt="...">
            <div class="card-body">
                <h5 class="card-title">Welcome {name} Your Data is</h5>

                <p class="card-text ">
                    <br>
                    <input type="text" value="MobileNumber: {MobileNumber}" class="form-control" disabled>


                    <br>
                    <input type="text" value="Email : {Email}" class="form-control" disabled>


                    <br>
                    <input type="text" value="Address: {Address}" class="form-control" disabled>


                </p>

            </div>
        </div>

    </div>

    <button id="ShowTable" class="btn btn-success my-3"> Show Table</button>

    <div class="table-responsive">
        <table class="table table-striped
        table-hover	
        table-borderless
        table-primary
        align-middle">
            <thead class="table-light">
                <caption>Table Name</caption>
                <tr>
                    <th>Name</th>
                    <th>Mobile</th>
                    <th>Email</th>
                    <th>Address</th>
                </tr>
            </thead>
            <tbody id="FillTable" class="table-group-divider">
                <!-- <tr class="table-primary">
                    <td scope="row">Item</td>
                    <td>Item</td>
                    <td>Item</td>
                    <td>Item</td>
                </tr> -->

            </tbody>
            <tfoot>

            </tfoot>
        </table>
    </div>


    <script src="https://code.jquery.com/jquery-3.6.4.min.js"
        integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
    <script src="bootstrap.min.js"></script>
    <script>



        $("#ShowTable").on("click", function () {

            // fetch("/GetJson")
            //     .then(response => response.json())
            //     .then(data => console.log(data))
            //     .catch(error => console.error(error));
            var myData = GetData("/GetJson");


        })


        async function GetData(url) {
            var response = await fetch(url);
            var data = await response.json();
            var parsedData = data;
            console.log(parsedData);
            displayData(parsedData);
        }

        function displayData(array) {
            var string = "";
            for (let i = 0; i < array.length; i++) {

                string += ` <tr class="table-primary">
                    <td scope="row">${array[i].name}</td>
                    <td>${array[i].mobile}</td>
                    <td>${array[i].email}</td>
                    <td>${array[i].address}</td>
                </tr>`
            }
            $("#FillTable").html(string);
        }
    </script>
</body>

</html>